(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d743fd8c"],{"05ff":function(e,s,o){e.exports=o.p+"public/img/b3.1c528c1d.jpg"},3954:function(e,s,o){e.exports=o.p+"public/img/b1.2c4d7b7d.jpg"},5810:function(e,s,o){e.exports=o.p+"public/img/b5.dfa6f9b1.jpg"},"671a":function(e,s,o){e.exports=o.p+"public/img/b4.313e33b9.jpg"},"6f7b":function(e,s,o){e.exports=o.p+"public/img/b2.cb24e904.jpg"},dc26:function(e,s,o){},dc3f:function(e,s,o){"use strict";o.r(s);var t=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"login-container"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[o("div",{staticClass:"title-container"},[o("h3",{staticClass:"title"},[e._v("友趣读书")])]),o("el-form-item",{attrs:{prop:"username"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),o("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"pwd"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),o("el-input",{key:e.passwordType,attrs:{type:e.passwordType,placeholder:"密码",name:"pwd",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleLogin(s)}},model:{value:e.loginForm.pwd,callback:function(s){e.$set(e.loginForm,"pwd",s)},expression:"loginForm.pwd"}}),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e.isLogin?e._e():o("el-form-item",{attrs:{prop:"morePwd"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),o("el-input",{key:e.passwordType,attrs:{type:e.passwordType,placeholder:"再次输入密码",name:"morePwd",tabindex:"2","auto-complete":"on"},model:{value:e.loginForm.morePwd,callback:function(s){e.$set(e.loginForm,"morePwd",s)},expression:"loginForm.morePwd"}}),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),o("div",{staticClass:"codeBox"},[o("slide-verify",{ref:"slideblock",attrs:{l:42,r:10,w:450,h:100,imgs:e.bgImgs,"slider-text":"向右滑动"},on:{success:e.onSuccess,fail:e.onFail,refresh:e.onRefresh}})],1),o("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin(s)}}},[e._v(e._s(e.isLogin?"立即登录":"立即注册"))]),o("div",{staticClass:"tipBox",on:{click:e.setIsLogin}},[e._v(" "+e._s(e.isLogin?"还没账号？立即注册":"已有账号，立即登录")+" ")])],1)],1)},r=[],n=(o("a567"),o("eb3b"),o("f753")),i=o.n(n),a=o("b705"),c="http://localhost:3000",l=i.a.create({baseURL:c,timeout:5e4});l.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var s=e.data;return-1==s.code?(Object(a["Message"])({message:s.msg||"Error",type:"error",duration:5e3}),Promise.reject(new Error(s.message||"Error"))):s}),(function(e){return console.log("err"+e),Object(a["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var p=o("3954"),d=o.n(p),u=o("6f7b"),g=o.n(u),m=o("05ff"),f=o.n(m),w=o("671a"),b=o.n(w),h=o("5810"),v=o.n(h),y={name:"Login",data:function(){var e=this,s=function(s,o,t){""===o?t(new Error("请再次输入密码")):o!==e.loginForm.pwd?t(new Error("两次输入密码不一致!")):t()};return{imgCode:!1,loginForm:{username:"",pwd:"",morePwd:""},bgImgs:[d.a,g.a,f.a,b.a,v.a],loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的用户名"}],pwd:[{required:!0,trigger:"blur",message:"请输入您的密码"}],morePwd:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{validator:s,trigger:"blur"}]},loading:!1,passwordType:"password",redirect:void 0,isLogin:!0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{setIsLogin:function(){this.isLogin=!this.isLogin,this.imgCode=!1,this.$refs.slideblock.reset()},onSuccess:function(){this.imgCode=!0},onFail:function(){this.imgCode=!1},onRefresh:function(){this.imgCode=!1},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.imgCode?this.$refs.loginForm.validate((function(s){if(s){var o=e.loginForm;o.username,o.pwd;return e.loading=!0,void e.$router.push("/")}return console.log("error submit!!"),!1})):this.$message.error("请完成滑块验证！")}}},k=y,x=(o("e330"),o("cba8")),C=Object(x["a"])(k,t,r,!1,null,null,null);s["default"]=C.exports},e330:function(e,s,o){"use strict";o("dc26")}}]);